# Настройка окружения для разработки

## Hot Reload (Автоматическая перезагрузка)

Для удобной разработки с автоматической перезагрузкой при изменении файлов используется [Air](https://github.com/cosmtrek/air).

### Установка Air

**MacOS/Linux:**
```bash
go install github.com/cosmtrek/air@latest
```

или через curl:
```bash
curl -sSfL https://raw.githubusercontent.com/cosmtrek/air/master/install.sh | sh -s -- -b $(go env GOPATH)/bin
```

**Проверка установки:**
```bash
air -v
```

### Запуск проекта в режиме разработки

После установки Air используйте команду:

```bash
make dev
```

или напрямую:

```bash
air
```

Теперь при изменении любых `.go` файлов проект будет автоматически пересобираться и перезапускаться!

### Что происходит?

- Air отслеживает изменения в файлах `.go`
- При изменении автоматически пересобирает проект
- Перезапускает сервер с новыми изменениями
- Логи сборки сохраняются в `build-errors.log`
- Временные файлы создаются в папке `tmp/`

### Конфигурация

Конфигурация Air находится в файле `.air.toml` в корне проекта. Вы можете настроить:
- Какие файлы и папки отслеживать
- Задержку перед перезапуском
- Команду сборки
- И многое другое

### Обычный запуск (без hot reload)

Если вам не нужна автоматическая перезагрузка, используйте:

```bash
make run
```

или

```bash
go run cmd/api/main.go
```

## Дополнительные команды

```bash
make build        # Собрать бинарник
make migrate-up   # Применить миграции
make migrate-down # Откатить миграции
make swagger      # Сгенерировать Swagger документацию
```

